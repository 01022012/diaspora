-#   Copyright (c) 2010, Diaspora Inc.  This file is
-#   licensed under the Affero General Public License version 3 or later.  See
-#   the COPYRIGHT file.

- content_for :page_title do
  = t('.title')

#section_header
  %h2
    = t('.title')

.span-5.append-1
  %ul#left_nav
    %li{:class => ("active" unless params["set"] == "all")}
      %a{:href => contacts_path, :class => ("sub_selected" if params["a_id"])}
        .contact_count
          = @my_contacts_count
        My Contacts

      %ul#aspect_sub_nav
        - for aspect in all_aspects
          %li{:class => ("active" if params["a_id"].to_i == aspect.id)}
            %a{:href => contacts_path(:a_id => aspect.id)}
              .contact_count
                = aspect.contacts.count
              = aspect
        %li
          = link_to "+ Add new aspect", "#add_aspect_pane", :class => "new_aspect", :rel => "facebox"
          
    %li{:class => ("active" if params["set"] == "all")}
      %a{:href => contacts_path(:set => "all")}
        .contact_count
          = @all_contacts_count
        All Contacts

.span-15
  #people_stream.stream
    - if @contacts.size > 0
      - for contact in @contacts
        = render :partial => 'people/person', :locals => {:contact => contact, :person => contact.person}
    - else
      %h3.no_contacts
        No contacts.

  = will_paginate @contacts
